<?xml version="1.0" encoding="ISO-8859-1"?>
<fmiModelDescription
    fmiVersion="2.0"
    modelName="drivetrain_G5IO_m_function_only"
    guid="{df4d45a1-9637-428f-9266-e6cb20143adb}"
    numberOfEventIndicators="0">
<CoSimulation providesDirectionalDerivative="false" modelIdentifier="drivetrain_G5IO_m_function_only" canHandleVariableCommunicationStepSize="true"/>
<LogCategories>
  <Category name="logAll" description="-"/>
  <Category name="logError" description="-"/>
  <Category name="logFmiCall" description="-"/>
  <Category name="logEvent" description="-"/>
</LogCategories>
<DefaultExperiment stepSize="0.01"/>
<ModelVariables>
    <ScalarVariable name           = "simulation_ticks"
                    valueReference = "0"
                    description    = "Simulation ticks"
                    causality      = "independent"
                    variability    = "continuous"
                    initial        = "calculated">
        <Integer/>
    </ScalarVariable>  <!--index="1" -->
    <ScalarVariable name           = "current_time"
                    valueReference = "0"
                    description    = "Model time [s]"
                    causality      = "independent"
                    variability    = "continuous"
                    initial        = "calculated">
        <Real/>
    </ScalarVariable>  <!--index="2" -->
    <ScalarVariable name           = "w_inShaftNeutral"
                    valueReference = "1"
                    description    = "w_inShaftNeutral"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="3" -->
    <ScalarVariable name           = "w_wheel"
                    valueReference = "2"
                    description    = "w_wheel"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="4" -->
    <ScalarVariable name           = "w_inShaftOld"
                    valueReference = "3"
                    description    = "w_inShaftOld"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="5" -->
    <ScalarVariable name           = "tq_retarder"
                    valueReference = "4"
                    description    = "tq_retarder"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="6" -->
    <ScalarVariable name           = "tq_fricLoss"
                    valueReference = "5"
                    description    = "tq_fricLoss"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="7" -->
    <ScalarVariable name           = "tq_env"
                    valueReference = "6"
                    description    = "tq_env"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="8" -->
    <ScalarVariable name           = "gear_ratio"
                    valueReference = "7"
                    description    = "gear_ratio"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="9" -->
    <ScalarVariable name           = "tq_clutchMax"
                    valueReference = "8"
                    description    = "tq_clutchMax"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" /> <!-- monkey ass value to get something for default experiment -->
    </ScalarVariable>  <!--index="10" -->
    <ScalarVariable name           = "tq_losses"
                    valueReference = "9"
                    description    = "tq_losses"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" /><!-- monkey ass value to get something for default experiment -->
    </ScalarVariable>  <!--index="11" -->
    <ScalarVariable name           = "r_tire"
                    valueReference = "10"
                    description    = "r_tire"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="12" -->
    <ScalarVariable name           = "m_vehicle"
                    valueReference = "11"
                    description    = "m_vehicle"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="100" />
    </ScalarVariable>  <!--index="13" -->
    <ScalarVariable name           = "final_gear_ratio"
                    valueReference = "12"
                    description    = "final_gear_ratio"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="14" -->
    <ScalarVariable name           = "w_eng"
                    valueReference = "13"
                    description    = "w_eng"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="15" -->
    <ScalarVariable name           = "tq_eng"
                    valueReference = "14"
                    description    = "tq_eng"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="16" -->
    <ScalarVariable name           = "J_eng"
                    valueReference = "15"
                    description    = "J_eng"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="17" -->
    <ScalarVariable name           = "J_neutral"
                    valueReference = "16"
                    description    = "J_neutral"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="18" -->
    <ScalarVariable name           = "tq_brake"
                    valueReference = "17"
                    description    = "tq_brake"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="19" -->
    <ScalarVariable name           = "ts"
                    valueReference = "18"
                    description    = "ts"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="1" />
    </ScalarVariable>  <!--index="20" -->
    <ScalarVariable name           = "r_slipFilt"
                    valueReference = "19"
                    description    = "r_slipFilt"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
        <Real start="0" />
    </ScalarVariable>  <!--index="21" -->
    <ScalarVariable name           = "w_inShaftDer"
                    valueReference = "20"
                    description    = "w_inShaftDer"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="22" -->
    <ScalarVariable name           = "w_wheelDer"
                    valueReference = "21"
                    description    = "w_wheelDer"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="23" -->
    <ScalarVariable name           = "tq_clutch"
                    valueReference = "22"
                    description    = "tq_clutch"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="24" -->
    <ScalarVariable name           = "v_vehicle"
                    valueReference = "23"
                    description    = "v_vehicle"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="25" -->
    <ScalarVariable name           = "w_out"
                    valueReference = "24"
                    description    = "w_out"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="26" -->
    <ScalarVariable name           = "w_inShaft"
                    valueReference = "25"
                    description    = "w_inShaft"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="27" -->
    <ScalarVariable name           = "tq_outTransmission"
                    valueReference = "26"
                    description    = "tq_outTransmission"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="28" -->
    <ScalarVariable name           = "v_driveWheel"
                    valueReference = "27"
                    description    = "v_driveWheel"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="29" -->
    <ScalarVariable name           = "r_slip"
                    valueReference = "28"
                    description    = "r_slip"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>

    <!--index="30" -->
    <ScalarVariable name           = "k1"
                    valueReference = "30"
                    description    = "coupling spring constant on the shaft"
                    causality      = "parameter"
                    variability    = "fixed"
                    initial        = "exact">
        <Real start="100"/>
    </ScalarVariable>

    <!--index="31" -->
    <ScalarVariable name           = "f_shaft_out"
                    valueReference = "31"
                    description    = "coupling force out"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="32" -->
    <ScalarVariable name           = "w_shaft_in"
                    valueReference = "32"
                    description    = "velocity of coupled FMU"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
          <Real start="0" />
    </ScalarVariable>  <!--index="33" -->
    <ScalarVariable name           = "w_wheel_out"
                    valueReference = "33"
                    description    = "output velocity of wheel"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="34" -->
    <ScalarVariable name           = "f_wheel_in"
                    valueReference = "34"
                    description    = "input coupling force on wheel"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
          <Real start="0" />
    </ScalarVariable>  <!--index="35" -->
    <ScalarVariable name           = "k2"
                    valueReference = "35"
                    description    = "coupling spring on the wheel"
                    causality      = "parameter"
                    variability    = "fixed"
                    initial        = "exact">
        <Real start="10"/>
    </ScalarVariable>  <!--index="36" -->
    <ScalarVariable name           = "w_shaft_out"
                    valueReference = "36"
                    description    = "output shaft angular velocity"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="37" -->
    <ScalarVariable name           = "f_shaft_in"
                    valueReference = "37"
                    description    = "coupling input force"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
          <Real start="0" />
    </ScalarVariable>  <!--index="38" -->
    <ScalarVariable name           = "f_wheel_out"
                    valueReference = "38"
                    description    = "output coupling force at wheel"
                    causality      = "output"
                    variability    = "discrete">
          <Real />
    </ScalarVariable>  <!--index="39" -->
    <ScalarVariable name           = "w_wheel_in"
                    valueReference = "39"
                    description    = "coupling input angular velocity"
                    causality      = "input"
                    variability    = "discrete"
                    initial        = "approx">
          <Real start="0" />
    </ScalarVariable>  <!--index="40" -->

</ModelVariables>
<ModelStructure>
  <Outputs>
      <Unknown index= "22"/>
      <Unknown index= "23"/>
      <Unknown index= "24"/>
      <Unknown index= "25"/>
      <Unknown index= "26"/>
      <Unknown index= "27"/>
      <Unknown index= "28"/>
      <Unknown index= "29"/>
      
  </Outputs>
  <Derivatives/>
  <InitialUnknowns/>
</ModelStructure>
</fmiModelDescription>
