<?xml version="1.0" encoding="UTF-8"?>
<fmiModelDescription
  fmiVersion="2.0"
  description="Unit mass subject to a force"
  modelName="mass_force"
  guid="{829a504d-15f3-4312-a01f-ca78b6600f18}"
  numberOfEventIndicators="0">

<CoSimulation
  modelIdentifier="mass_force"
  canHandleVariableCommunicationStepSize="true"
  canGetAndSetFMUstate="true"
  providesDirectionalDerivative="false"/>

<LogCategories>
  <Category name="logAll"/>
  <Category name="logError"/>
  <Category name="logFmiCall"/>
  <Category name="logEvent"/>
</LogCategories>

<DefaultExperiment startTime="0" stopTime="10" stepSize="0.1"/>

<ModelVariables>
    <!-- inputs -->
    <ScalarVariable name="force"
                    valueReference="0"
                    description="driving force"
                    causality="input"
                    initial="exact">
      <Real start="0"/>
    </ScalarVariable>
    <ScalarVariable name="force_c"
                    valueReference="1"
                    description="coupling force"
                    causality="input"
                    initial="exact">
      <Real start="0"/>
    </ScalarVariable>

    <!-- output variables -->
    <ScalarVariable name="x"
                    valueReference="2" description="position"
                    causality="output"><Real start="0"/></ScalarVariable>
    <ScalarVariable name="v"
                    valueReference="3"
                    description="velocity"
                    causality="output">
      <Real start="0"/>
    </ScalarVariable>
    <!-- parameters --> 
    <ScalarVariable name="damping"
                    valueReference="4"
                    description="velocity damping"
                    causality="parameter">
      <Real start="0"/>
    </ScalarVariable>
    <ScalarVariable
        name="mass"
        valueReference="5"
        description="velocity mass"
        causality="parameter">
      <Real start="1"/>
    </ScalarVariable>

    <ScalarVariable name="filter_length"
                    valueReference="98"
                    description="Length of EPCE FIR filter (0 = disable)"
                    causality="parameter"
                    variability="fixed">
        <Integer start="0"/>
    </ScalarVariable>

</ModelVariables>

<ModelStructure>
  <Outputs>
    <Unknown index="3"/>
    <Unknown index="4"/>
  </Outputs>
  <Derivatives/>
  <DiscreteStates/>
  <InitialUnknowns />
</ModelStructure>

</fmiModelDescription>
